<h5 id="ChangePasswordHeader"></h5>
<form  id="passwordChange" method="post" style="width:200px" action='@Url.Action("ChangePassword", "Users")' onsubmit="return false" >
    <input type="password" name="newPassword"  id="newPassword" style="max-width:250px; height:20px;"  placeholder="New Password">
    <br/><br />
    <a href="#"  type="submit" role="button" onclick="$(this).closest('form').submit()">Submit</a>
</form>
<script>
    $("#passwordChange").submit(function (event) {
        event.preventDefault();

        var $form = $(this),
        message = $form.find('input[name="newPassword"]').val();

        $.ajax({
        type: 'post',
        url: '@Url.Action("ChangePassword", "Users")',
        data: JSON.stringify({ UserId: userId, Password: message }),
        contentType: 'application/json; charset=utf-8',
        dataType: "json",
        success: function (data) {
            $("#newPassword").val('');
            $("#newPassword").attr("placeholder", "Post Message");
        location.reload();
        }
        });
    });
</script>

@*@model TransafeRx.Models.UpdatePasswordViewModel

@Html.HiddenFor(model => model.UserId)
@{
    ViewBag.Title = "Change Password";
}

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

@using (Html.BeginForm("ChangePassword", "Users", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
{
    @Html.ValidationSummary(true, "Password change was unsuccessful. Please correct the errors and try again.")
    <div>
        <fieldset>

            <div class="editor-label">
                @Html.LabelFor(m => m.Password)
            </div>
            <div class="editor-field">
                @Html.PasswordFor(m => m.Password)
                @Html.ValidationMessageFor(m => m.Password)
            </div>

            <div class="editor-label">
                @Html.LabelFor(m => m.ConfirmPassword)
            </div>
            <div class="editor-field">
                @Html.PasswordFor(m => m.ConfirmPassword)
                @Html.ValidationMessageFor(m => m.ConfirmPassword)
            </div>

            <p>
                <input type="submit" value="Change Password" />
            </p>
        </fieldset>
    </div>
}*@

